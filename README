# Youtube Comment API

**NOTE: Still a work in progress.**

## Purpose

API to the YouTube comment system. Scrapes comments and comment information from a given YouTube video. **This project is in no way affiliated with YouTube.**

## Usage

`http//www.youtube.com/watch?v={videoID}`

### With Promises

``` javascript
var fetchCommentPage = require('youtube-comment-api');
// request first page of comments (most recent)
fetchCommentPage('{videoID}', null).then(function (commentPage) {
  console.log(commentPage);
  return commentPage.nextPageToken;
}).then(function (pageToken) {
  // request next page
  return fetchCommentPage('{videoID}', pageToken)
}).then(function (commentPage) {
  console.log(commentPage);
});
```

### With Callback

``` javascript
var fetchCommentPage = require('youtube-comment-api');
// request first page of comments (most recent)
fetchCommentPage('{videoID}', null, function (err, commentPage) {
  if (err) throw err;
  console.log(commentPage);
  // request next page
  fetchCommentPage('{videoID}', commentPage.nextPageToken, function(err, commentPage) {
    if (err) throw err;
    console.log(commentPage);
  });
});
```

## Output

``` json
{
  pageToken: {{ page token of current page }},
  nextPageToken: {{ page token of next page }},
  videoCommentCount: {{ number of comments on the video }},
  videoTitle: {{ video title }},
  videoThumbnail: {{ URL to video Thumbnail }},
  comments: [
	{
      id: {{ comment ID }},
      user: {{ username of author }},
      date: {{ how long ago the comment was posted }},
      commentText: {{ the comment }},
      timestamp: {{ timestamp based on date }},
      likes: {{ number of upvotes }},
      hasReplies: {{ whether this comment has replies }},
      numberOfReplies: {{ number of replies to the comment }},
      replies [
        {
          {{ ... same fields as comment }}
        },
        ...
      ],
      ...
    }
  ]
}

```
